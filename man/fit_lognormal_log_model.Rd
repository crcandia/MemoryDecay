% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_decay_models.R
\name{fit_lognormal_log_model}
\alias{fit_lognormal_log_model}
\title{Fit Log-Normal Modulated Power-Law to Memory Data (Grouped or Not)}
\usage{
fit_lognormal_log_model(
  data,
  age_var = "age",
  observed_col = "CurrentPopularity",
  group_var = NULL,
  group_var2 = NULL,
  weight_early_points = FALSE
)
}
\arguments{
\item{data}{A data frame containing memory or attention data.}

\item{age_var}{Name of the age column (e.g., time since event or publication).}

\item{observed_col}{Name of the observed attention/popularity column.}

\item{group_var}{Optional: primary grouping column (e.g., "same_country").}

\item{group_var2}{Optional: secondary grouping column (e.g., "attention_level").}

\item{weight_early_points}{Logical. Whether to give more weight to early time points (default: FALSE).}
}
\value{
A list containing:
\describe{
  \item{fitted}{A data frame with predicted values by age and group.}
  \item{params}{Estimated parameters \eqn{b}, \eqn{b_1}, \eqn{b_2}, and model metrics (AIC, BIC, RÂ²).}
}
}
\description{
Fits a log-normal-inspired forgetting curve to memory or attention data,
optionally stratified by grouping variables. The model is estimated using a
quadratic regression on the log-log scale.
}
\section{Model Specification}{


The model is estimated as:
\deqn{
\log S(t) = b + b_1 \log(t) - b_2 (\log(t))^2
}

which is equivalent to:
\deqn{
S(t) = \exp(b) \cdot t^{b_1} \cdot \exp\left(-b_2 (\log t)^2\right)
}

where:
\itemize{
  \item \eqn{S(t)} is the observed popularity or recall at time \eqn{t},
  \item \eqn{b, b_1, b_2} are parameters controlling early growth and long-tail decay.
}

This model captures:
\itemize{
  \item Initial attention growth via the power-law term \eqn{t^{b_1}},
  \item Long-tail memory decay via the log-normal term \eqn{\exp(-b_2 (\log t)^2)}.
}

## Why log-log transformation?
\itemize{
  \item Improves numerical stability during model fitting.
  \item Enables interpretable parameters in logarithmic space.
  \item Captures the heavy-tailed nature of attention decay.
  \item Linearizes a nonlinear decay relationship for fitting.
}
}

\seealso{
\code{\link{fit_biexponential_model}}, \code{\link{fit_exponential_log_model}}, \code{\link{fit_all_models_log}}
}
