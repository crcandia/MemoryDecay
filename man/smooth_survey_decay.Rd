% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{smooth_survey_decay}
\alias{smooth_survey_decay}
\title{Smooth and Aggregate Noisy Survey-Based Memory Decay Data}
\usage{
smooth_survey_decay(
  data,
  age_var,
  response_var,
  group_var = NULL,
  group_var2 = NULL,
  filter_age = Inf
)
}
\arguments{
\item{data}{A data frame with survey-based memory or attention data.}

\item{age_var}{String. Name of the age variable (e.g., "age_metric"). Must be numeric.}

\item{response_var}{String. Name of the response variable (e.g., "performance_score").}

\item{group_var}{(Optional) First grouping variable (default: NULL).}

\item{group_var2}{(Optional) Second grouping variable for faceting or stratification (default: NULL).}

\item{filter_age}{Numeric. Maximum age to retain (default: Inf = include all).}
}
\value{
A data frame with the following columns:
\describe{
  \item{\code{age_metric}}{Age variable in numeric form.}
  \item{\code{response}}{Raw response values (copied from \code{response_var}).}
  \item{\code{mean_response}}{Mean response for each age/group combination.}
  \item{\code{loess_correct}}{LOESS-smoothed response over age.}
  \item{\code{gam_correct}}{GAM-smoothed response over age.}
  \item{\code{group_var, group_var2}}{Preserved grouping columns (if provided).}
}
}
\description{
This function is designed to smooth and aggregate memory or attention decay data 
collected from cross-sectional **survey instruments**. It is particularly suited 
for analyzing recall accuracy or attention scores over time (e.g., the age of 
historical or cultural figures).
}
\details{
It computes:
\itemize{
  \item \strong{Mean response} per age and group
  \item \strong{LOESS-smoothed} trend using local polynomial regression
  \item \strong{GAM-smoothed} trend using penalized cubic splines
}

The function supports one or two grouping variables:
\itemize{
  \item \code{group_var}: Primary grouping (e.g., same vs. different country)
  \item \code{group_var2}: Secondary grouping (e.g., attention decile, demographic strata)
}
These allow stratified smoothing and facilitate visual comparisons across subpopulations.
}
\examples{
data(survey_data)
smooth_df <- smooth_survey_decay(
  data = survey_data,
  age_var = "age_metric",
  response_var = "performance_score",
  group_var = "location_flag"
)

}
\seealso{
\code{\link{plot_raw_memory_decay}}, \code{\link{fit_biexponential_model}}
}
